<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>오늘의 퀴즈</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="static/script.js" text="main.js"></script>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap");

    body {
      font-family: "Noto Sans KR", sans-serif;
      background-color: #f8f5f2;
    }

    .btn-quiz.active {
      background-color: #a57a62;
      color: white;
    }
  </style>
</head>

<body class="bg-[#f8f5f2] text-gray-800 min-h-screen flex flex-col items-center">
  <header class="w-full bg-white shadow-md p-4 flex justify-center sticky top-0 z-50">
    <div class="flex items-center justify-between w-full max-w-[1000px]">
      <h1 class="text-4xl font-extrabold text-[#a57a62]">오늘의 퀴즈</h1>
      <div class="flex items-center space-x-4 text-gray-500 font-semibold text-lg">
        <button id="logout-button" class="hover:underline transition-colors">
          로그아웃
        </button>
        <button id="username-button" class="hover:underline transition-colors">
          {username}
        </button>
      </div>
    </div>
  </header>

  <main class="flex-grow flex items-start justify-center p-6 w-full">
    <div class="bg-white rounded-2xl shadow-xl p-12 max-w-5xl w-full text-center border border-gray-200">
      <div class="pb-10">
        <p class="text-4xl font-bold text-[#a57a62]">문제만들기</p>
      </div>

      <div class="flex justify-center space-x-2 mb-2">
        <button
          class="btn-quiz py-1 px-4 rounded-lg font-medium border border-[#a57a62] text-[#a57a62] hover:bg-[#a57a62] hover:text-white transition-colors text-sm"
          data-lang="js">
          JS
        </button>
        <button
          class="btn-quiz py-1 px-4 rounded-lg font-medium border border-[#a57a62] text-[#a57a62] hover:bg-[#a57a62] hover:text-white transition-colors text-sm"
          data-lang="python">
          Python
        </button>
        <button
          class="btn-quiz py-1 px-4 rounded-lg font-medium border border-[#a57a62] text-[#a57a62] hover:bg-[#a57a62] hover:text-white transition-colors text-sm"
          data-lang="c">
          C
        </button>
      </div>

      <div class="flex justify-center space-x-2 mb-6">
        <button
          class="btn-quiz py-1 px-4 rounded-lg font-medium border border-[#a57a62] text-[#a57a62] hover:bg-[#a57a62] hover:text-white transition-colors text-sm"
          data-lang="하">
          하
        </button>
        <button
          class="btn-quiz py-1 px-4 rounded-lg font-medium border border-[#a57a62] text-[#a57a62] hover:bg-[#a57a62] hover:text-white transition-colors text-sm"
          data-lang="중">
          중
        </button>
        <button
          class="btn-quiz py-1 px-4 rounded-lg font-medium border border-[#a57a62] text-[#a57a62] hover:bg-[#a57a62] hover:text-white transition-colors text-sm"
          data-lang="상">
          상
        </button>
      </div>

      <div class="mb-2">
        <label for="quiz_sentence" class="block text-[#a57a62] font-medium mb-1">제목</label>
        <input id="quiz_sentence" type="text"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#a57a62]"
          placeholder="제목을 입력하세요" />
      </div>

      <div class="mb-2">
        <label for="quiz_code" class="block text-[#a57a62] font-medium mb-1">내용</label>
        <textarea id="quiz_code" rows="8"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#a57a62]"
          placeholder="코드를 입력해주세요."></textarea>
      </div>

      <div class="mb-4">
        <label for="answer" class="block text-[#a57a62] font-medium mb-1">정답</label>
        <input id="answer" type="text"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#a57a62]"
          placeholder="정답을 입력하세요" />
      </div>

      <button id="quizpage-button"
        class="px-10 bg-[#a57a62] text-white text-xl font-bold py-3 rounded-lg shadow-lg hover:bg-[#8d6c54] transition-colors"
        onclick="addquiz()">
        추가
      </button>
    </div>
  </main>

  <script>
    let selectedLang = null;
    let selectedLevel = null;

    // 언어 버튼 그룹
    document.querySelectorAll(".btn-quiz[data-lang]").forEach((button) => {
      button.addEventListener("click", () => {
        // 언어 그룹 버튼만 초기화
        if (["js", "python", "c"].includes(button.dataset.lang)) {
          const parentDiv = button.closest("div");
          parentDiv.querySelectorAll(".btn-quiz").forEach((btn) => {
            btn.classList.remove("active", "bg-[#a57a62]", "text-white");
            btn.classList.add("text-[#a57a62]");
          });
          button.classList.add("active", "bg-[#a57a62]", "text-white");
          selectedLang = button.dataset.lang;
          console.log("선택된 언어:", selectedLang);
        }

        // 난이도 그룹 버튼만 초기화
        if (["하", "중", "상"].includes(button.dataset.lang)) {
          const parentDiv = button.closest("div");
          parentDiv.querySelectorAll(".btn-quiz").forEach((btn) => {
            btn.classList.remove("active", "bg-[#a57a62]", "text-white");
            btn.classList.add("text-[#a57a62]");
          });
          button.classList.add("active", "bg-[#a57a62]", "text-white");
          selectedLevel = button.dataset.lang;
          console.log("선택된 난이도:", selectedLevel);
        }
      });
    });
  </script>
</body>

</html>